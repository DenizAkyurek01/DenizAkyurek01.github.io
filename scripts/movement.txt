using UnityEngine;
using UnityEngine.InputSystem;

public class PlayerMovement : MonoBehaviour
{
    public float moveSpeed = 3f;
    private Vector3 moveInput;//hier word er een vector 3 aangemaakt met als naam moveInput
    private Rigidbody2D rb;

    public void Start()
    {
        rb = GetComponent<Rigidbody2D>();
    }

    public void OnMove(InputAction.CallbackContext context)//dit word word automatisch aangeroepen door de input systeem telkens wanneer de joystick beweegt
    {
        moveInput = context.ReadValue<Vector2>();//hier word de joystick waarde gelezen
    }

    private void FixedUpdate()//dit runt op elke frame
    {
        Vector2 move = moveInput * moveSpeed;//hier word de moveInput en movespeed met elkaar vermenigvuldigd en in move gezet
        rb.MovePosition(rb.position + move * Time.fixedDeltaTime);//dit laat de player gecontroleerd bewegen in de richting van de joystick, waar muren en colliders ook worden gecheckt waardoor het niet glitched als het tegen de muur aanloopt
    }
}
